<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.15"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>My Project: epcf_project/epcf/peripheral/source/timer/timer.c File Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">My Project
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.15 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "search",false,'Search');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="dir_a3dd39be04874e8d0c4408dc2fbbe4d9.html">epcf_project</a></li><li class="navelem"><a class="el" href="dir_2f7e3134a884d190e855e94bbd69e569.html">epcf</a></li><li class="navelem"><a class="el" href="dir_2950bcd52e09015d6c88380a30574849.html">peripheral</a></li><li class="navelem"><a class="el" href="dir_a432507043b74a36ac7bfda595ba2ea5.html">source</a></li><li class="navelem"><a class="el" href="dir_2e2d1f54e996329b0e770a8a899e7578.html">timer</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#func-members">Functions</a>  </div>
  <div class="headertitle">
<div class="title">timer.c File Reference</div>  </div>
</div><!--header-->
<div class="contents">

<p>This file is used to configure a TIMER device.  
<a href="#details">More...</a></p>
<div class="textblock"><code>#include &quot;pcf.h&quot;</code><br />
<code>#include &quot;<a class="el" href="timer__hidden_8h_source.html">./timer_hidden.h</a>&quot;</code><br />
</div><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:a057d7fb4ee27ea70d843f313e7948f7e"><td class="memItemLeft" align="right" valign="top"><a class="el" href="timer_8h.html#ab21ed2c6357cfab9af8e28c49dc33668">EPCFTimerDevice_t</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="timer_8c.html#a057d7fb4ee27ea70d843f313e7948f7e">epcf_timer_createNative</a> (<a class="el" href="structEPCFTimerCfg__t.html">EPCFTimerCfg_t</a> *pTimerConfig)</td></tr>
<tr class="memdesc:a057d7fb4ee27ea70d843f313e7948f7e"><td class="mdescLeft">&#160;</td><td class="mdescRight">This function is used to create a timer. Call this function in beginning to initialize the timer. This function allocates memory for the device using malloc() function call and returns a pointer to the device. Pass this device pointer while calling timer functions.  <a href="#a057d7fb4ee27ea70d843f313e7948f7e">More...</a><br /></td></tr>
<tr class="separator:a057d7fb4ee27ea70d843f313e7948f7e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6d7fbc41add267502873da2d7b3a6848"><td class="memItemLeft" align="right" valign="top">int8_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="timer_8c.html#a6d7fbc41add267502873da2d7b3a6848">epcf_timer_start</a> (<a class="el" href="timer_8h.html#ab21ed2c6357cfab9af8e28c49dc33668">EPCFTimerDevice_t</a> *pTimerDevice)</td></tr>
<tr class="memdesc:a6d7fbc41add267502873da2d7b3a6848"><td class="mdescLeft">&#160;</td><td class="mdescRight">This function is used to start the timer. The timer starts counting and will run according to the configuration. It can be stopped by a call to the function EPCF_TIMER_STOP.  <a href="#a6d7fbc41add267502873da2d7b3a6848">More...</a><br /></td></tr>
<tr class="separator:a6d7fbc41add267502873da2d7b3a6848"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a23c824708319387ad92228cc98e7531f"><td class="memItemLeft" align="right" valign="top">int8_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="timer_8c.html#a23c824708319387ad92228cc98e7531f">epcf_timer_stop</a> (<a class="el" href="timer_8h.html#ab21ed2c6357cfab9af8e28c49dc33668">EPCFTimerDevice_t</a> *pTimerDevice)</td></tr>
<tr class="memdesc:a23c824708319387ad92228cc98e7531f"><td class="mdescLeft">&#160;</td><td class="mdescRight">This function is used to stop the running timer. The timer counting is stopped and can be started again by a call to the function EPCF_TIMER_START.  <a href="#a23c824708319387ad92228cc98e7531f">More...</a><br /></td></tr>
<tr class="separator:a23c824708319387ad92228cc98e7531f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aeb2c3ce309a2389e10b4ecd8f54b2a49"><td class="memItemLeft" align="right" valign="top">int8_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="timer_8c.html#aeb2c3ce309a2389e10b4ecd8f54b2a49">epcf_timer_reset</a> (<a class="el" href="timer_8h.html#ab21ed2c6357cfab9af8e28c49dc33668">EPCFTimerDevice_t</a> *pTimerDevice)</td></tr>
<tr class="memdesc:aeb2c3ce309a2389e10b4ecd8f54b2a49"><td class="mdescLeft">&#160;</td><td class="mdescRight">This function is used to reset the timer. The timer count will be set to the initial value.  <a href="#aeb2c3ce309a2389e10b4ecd8f54b2a49">More...</a><br /></td></tr>
<tr class="separator:aeb2c3ce309a2389e10b4ecd8f54b2a49"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a14af049adeaef5cc3f3fde90f1fe76ce"><td class="memItemLeft" align="right" valign="top"><a class="el" href="timer_8h.html#a545dac1050db5d1a791dca4df3830de8">EnEPCFTimerState_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="timer_8c.html#a14af049adeaef5cc3f3fde90f1fe76ce">epcf_timer_getState</a> (<a class="el" href="timer_8h.html#ab21ed2c6357cfab9af8e28c49dc33668">EPCFTimerDevice_t</a> *pTimerDevice)</td></tr>
<tr class="memdesc:a14af049adeaef5cc3f3fde90f1fe76ce"><td class="mdescLeft">&#160;</td><td class="mdescRight">This function is used to get the current state of the timer. Timer can be started by a call to the function EPCF_TIMER_START. Timer can be stopped by a call to the function EPCF_TIMER_STOP.  <a href="#a14af049adeaef5cc3f3fde90f1fe76ce">More...</a><br /></td></tr>
<tr class="separator:a14af049adeaef5cc3f3fde90f1fe76ce"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3b4ff74d5b2f76582ed2e586d0739cb2"><td class="memItemLeft" align="right" valign="top">int8_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="timer_8c.html#a3b4ff74d5b2f76582ed2e586d0739cb2">epcf_timer_getTime</a> (<a class="el" href="timer_8h.html#ab21ed2c6357cfab9af8e28c49dc33668">EPCFTimerDevice_t</a> *pTimerDevice, EPCFTime_t *time)</td></tr>
<tr class="memdesc:a3b4ff74d5b2f76582ed2e586d0739cb2"><td class="mdescLeft">&#160;</td><td class="mdescRight">This function is used to read the current time value.  <a href="#a3b4ff74d5b2f76582ed2e586d0739cb2">More...</a><br /></td></tr>
<tr class="separator:a3b4ff74d5b2f76582ed2e586d0739cb2"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7ab75ebabd2d855bdbe9bf1290711e78"><td class="memItemLeft" align="right" valign="top">int8_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="timer_8c.html#a7ab75ebabd2d855bdbe9bf1290711e78">epcf_timer_setCounter</a> (<a class="el" href="timer_8h.html#ab21ed2c6357cfab9af8e28c49dc33668">EPCFTimerDevice_t</a> *pTimerDevice, <a class="el" href="timer_8h.html#a49758bdd75c2efdc7fae554a566a3420">EnEPCFTimerChannel_t</a> channel, <a class="el" href="timer_8h.html#a69d9d8868241b493f34d11688821a70e">EnEPCFTimerInputPolarity_t</a> inputPolarity)</td></tr>
<tr class="memdesc:a7ab75ebabd2d855bdbe9bf1290711e78"><td class="mdescLeft">&#160;</td><td class="mdescRight">This function is used to set input polarity of capture signal for getting counter value in counter mode. This function will return error if timer is configured in timer mode.  <a href="#a7ab75ebabd2d855bdbe9bf1290711e78">More...</a><br /></td></tr>
<tr class="separator:a7ab75ebabd2d855bdbe9bf1290711e78"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae25969764b4c85f1790bdffc16179a12"><td class="memItemLeft" align="right" valign="top">int8_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="timer_8c.html#ae25969764b4c85f1790bdffc16179a12">epcf_timer_getCounterValue</a> (<a class="el" href="timer_8h.html#ab21ed2c6357cfab9af8e28c49dc33668">EPCFTimerDevice_t</a> *pTimerDevice, uint32_t *count)</td></tr>
<tr class="memdesc:ae25969764b4c85f1790bdffc16179a12"><td class="mdescLeft">&#160;</td><td class="mdescRight">This function is used to read the current timer count in both timer and counter mode.  <a href="#ae25969764b4c85f1790bdffc16179a12">More...</a><br /></td></tr>
<tr class="separator:ae25969764b4c85f1790bdffc16179a12"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a73fb228a6120b6e9e7ac90ab02296159"><td class="memItemLeft" align="right" valign="top">int8_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="timer_8c.html#a73fb228a6120b6e9e7ac90ab02296159">epcf_timer_attachCallback</a> (<a class="el" href="timer_8h.html#ab21ed2c6357cfab9af8e28c49dc33668">EPCFTimerDevice_t</a> *pTimerDevice, <a class="el" href="timer_8h.html#a18e9ed18e2ec15f7a0264e167afecfa2">EnEPCFTimerInterruptSource_t</a> interruptSource, epcfCallback_fp callback)</td></tr>
<tr class="memdesc:a73fb228a6120b6e9e7ac90ab02296159"><td class="mdescLeft">&#160;</td><td class="mdescRight">This function is used to attach a timer callback for the specific timer interrupt source.  <a href="#a73fb228a6120b6e9e7ac90ab02296159">More...</a><br /></td></tr>
<tr class="separator:a73fb228a6120b6e9e7ac90ab02296159"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:abcda35cdd47b96d546961a7d067ebdca"><td class="memItemLeft" align="right" valign="top">int8_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="timer_8c.html#abcda35cdd47b96d546961a7d067ebdca">epcf_timer_detachCallback</a> (<a class="el" href="timer_8h.html#ab21ed2c6357cfab9af8e28c49dc33668">EPCFTimerDevice_t</a> *pTimerDevice, <a class="el" href="timer_8h.html#a18e9ed18e2ec15f7a0264e167afecfa2">EnEPCFTimerInterruptSource_t</a> interruptSource)</td></tr>
<tr class="memdesc:abcda35cdd47b96d546961a7d067ebdca"><td class="mdescLeft">&#160;</td><td class="mdescRight">This function is used to detach the timer callback for the specific timer interrupt source.  <a href="#abcda35cdd47b96d546961a7d067ebdca">More...</a><br /></td></tr>
<tr class="separator:abcda35cdd47b96d546961a7d067ebdca"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:adfb8b27d1b568b70a8b0563b7d23aba8"><td class="memItemLeft" align="right" valign="top">int8_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="timer_8c.html#adfb8b27d1b568b70a8b0563b7d23aba8">epcf_timer_setCompareTime</a> (<a class="el" href="timer_8h.html#ab21ed2c6357cfab9af8e28c49dc33668">EPCFTimerDevice_t</a> *pTimerDevice, <a class="el" href="timer_8h.html#a49758bdd75c2efdc7fae554a566a3420">EnEPCFTimerChannel_t</a> channel, <a class="el" href="timer_8h.html#a18c68e21ca83222d19af8f4aa976c29e">EnEPCFTimerCompareAction_t</a> compareAction, <a class="el" href="timer_8h.html#a05cae95f26f7014a386031b3e1fb4e91">EnEPCFTimerPinAction</a> pinAction, EPCFTime_t time)</td></tr>
<tr class="memdesc:adfb8b27d1b568b70a8b0563b7d23aba8"><td class="mdescLeft">&#160;</td><td class="mdescRight">This function is used to set the compare time. Compare channel can be used to trigger an event after the specified time. A compare action and an interrupt can be associated to that event. A user callback is called if there is a callback attached for this interrupt source. The maximum value that should be passed to this function is equal to the period of the timer. Timer period = resolution x (2^timerWidth). For example: Consider an 8-bit timer with resolution = 0.25 microseconds and configured as a periodic type. If time count == 5 and unit is equal to enEPCFTimeUnit_us, then user callback will be called after every 5 microseconds.  <a href="#adfb8b27d1b568b70a8b0563b7d23aba8">More...</a><br /></td></tr>
<tr class="separator:adfb8b27d1b568b70a8b0563b7d23aba8"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a363d9244d534de53dabc73523e37c3ff"><td class="memItemLeft" align="right" valign="top">int8_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="timer_8c.html#a363d9244d534de53dabc73523e37c3ff">epcf_timer_setInputCapture</a> (<a class="el" href="timer_8h.html#ab21ed2c6357cfab9af8e28c49dc33668">EPCFTimerDevice_t</a> *pTimerDevice, <a class="el" href="timer_8h.html#a49758bdd75c2efdc7fae554a566a3420">EnEPCFTimerChannel_t</a> channel, <a class="el" href="timer_8h.html#a69d9d8868241b493f34d11688821a70e">EnEPCFTimerInputPolarity_t</a> inputPolarity)</td></tr>
<tr class="memdesc:a363d9244d534de53dabc73523e37c3ff"><td class="mdescLeft">&#160;</td><td class="mdescRight">This function is used to set input polarity of the input capture channel. An input capture channel can be used to get width of the input signal. It can also be used to generate an interrupt and a user callback is called if there is a callback attached for this interrupt source. For example: Consider a configuration in which timer resolution = 0.25 microseconds and input capture channel is configured to detect falling clock edge on channel0. If the signal is in high state when the timer has started and comes to a low state after 5 microseconds. Then, an interrupt will be generated after 5 microseconds. Use EPCF_TIMER_GET_INPUT_CAPTURE_TIME function to get width of the signal.  <a href="#a363d9244d534de53dabc73523e37c3ff">More...</a><br /></td></tr>
<tr class="separator:a363d9244d534de53dabc73523e37c3ff"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:adc374c0f2ec21d311615d90b641c40bf"><td class="memItemLeft" align="right" valign="top">int8_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="timer_8c.html#adc374c0f2ec21d311615d90b641c40bf">epcf_timer_getInputCaptureTime</a> (<a class="el" href="timer_8h.html#ab21ed2c6357cfab9af8e28c49dc33668">EPCFTimerDevice_t</a> *pTimerDevice, <a class="el" href="timer_8h.html#a49758bdd75c2efdc7fae554a566a3420">EnEPCFTimerChannel_t</a> channel, EPCFTime_t *time)</td></tr>
<tr class="memdesc:adc374c0f2ec21d311615d90b641c40bf"><td class="mdescLeft">&#160;</td><td class="mdescRight">This function is used to read the input capture time for the specified channel.  <a href="#adc374c0f2ec21d311615d90b641c40bf">More...</a><br /></td></tr>
<tr class="separator:adc374c0f2ec21d311615d90b641c40bf"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6c5662478b4fdfdf19443a3dc6f4f391"><td class="memItemLeft" align="right" valign="top">int8_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="timer_8c.html#a6c5662478b4fdfdf19443a3dc6f4f391">epcf_timer_close</a> (<a class="el" href="timer_8h.html#ab21ed2c6357cfab9af8e28c49dc33668">EPCFTimerDevice_t</a> *pTimerDevice)</td></tr>
<tr class="memdesc:a6c5662478b4fdfdf19443a3dc6f4f391"><td class="mdescLeft">&#160;</td><td class="mdescRight">This function is used to close the timer. It will free the memory allocated by the timer device.  <a href="#a6c5662478b4fdfdf19443a3dc6f4f391">More...</a><br /></td></tr>
<tr class="separator:a6c5662478b4fdfdf19443a3dc6f4f391"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3542e21dd40fa50efc2a2ec7715fca53"><td class="memItemLeft" align="right" valign="top">uint8_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="timer_8c.html#a3542e21dd40fa50efc2a2ec7715fca53">epcf_timer_getDeviceCount</a> ()</td></tr>
<tr class="memdesc:a3542e21dd40fa50efc2a2ec7715fca53"><td class="mdescLeft">&#160;</td><td class="mdescRight">This function is used to get the total number of available timer devices.  <a href="#a3542e21dd40fa50efc2a2ec7715fca53">More...</a><br /></td></tr>
<tr class="separator:a3542e21dd40fa50efc2a2ec7715fca53"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3e03fa1163d7d44ed88309b0db515989"><td class="memItemLeft" align="right" valign="top"><a id="a3e03fa1163d7d44ed88309b0db515989"></a>
uint8_t&#160;</td><td class="memItemRight" valign="bottom"><b>epcf_timer_extGetDeviceCount</b> (EPCFTimerController_t *pTimerController)</td></tr>
<tr class="separator:a3e03fa1163d7d44ed88309b0db515989"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p class="">This file is used to configure a TIMER device. </p>
</div><h2 class="groupheader">Function Documentation</h2>
<a id="a73fb228a6120b6e9e7ac90ab02296159"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a73fb228a6120b6e9e7ac90ab02296159">&#9670;&nbsp;</a></span>epcf_timer_attachCallback()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int8_t epcf_timer_attachCallback </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="timer_8h.html#ab21ed2c6357cfab9af8e28c49dc33668">EPCFTimerDevice_t</a> *&#160;</td>
          <td class="paramname"><em>pTimerDevice</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="timer_8h.html#a18e9ed18e2ec15f7a0264e167afecfa2">EnEPCFTimerInterruptSource_t</a>&#160;</td>
          <td class="paramname"><em>interruptSource</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">epcfCallback_fp&#160;</td>
          <td class="paramname"><em>callback</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>This function is used to attach a timer callback for the specific timer interrupt source. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">pTimerDevice</td><td>Pointer to the timer device. </td></tr>
    <tr><td class="paramname">interruptSource</td><td>Interrupt source for the callback. </td></tr>
    <tr><td class="paramname">callback</td><td>User callback to be called at the specified interrupt source </td></tr>
    <tr><td class="paramname">priority</td><td>Callback priority</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>return callbackId.</dd></dl>
<dl class="section note"><dt>Note</dt><dd>Call this function before starting the timer device. To attach a callback if timer has already started:<ol type="1">
<li>Stop the timer.</li>
<li>Reset the timer</li>
<li>Detach the callback.</li>
<li>Start the timer again. </li>
</ol>
</dd></dl>

</div>
</div>
<a id="a6c5662478b4fdfdf19443a3dc6f4f391"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a6c5662478b4fdfdf19443a3dc6f4f391">&#9670;&nbsp;</a></span>epcf_timer_close()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int8_t epcf_timer_close </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="timer_8h.html#ab21ed2c6357cfab9af8e28c49dc33668">EPCFTimerDevice_t</a> *&#160;</td>
          <td class="paramname"><em>pTimerDevice</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>This function is used to close the timer. It will free the memory allocated by the timer device. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">pTimerDevice</td><td>Pointer to the timer device.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>return status. Refer to "../../common/status.h" header file for the appropriate status codes. </dd></dl>

</div>
</div>
<a id="a057d7fb4ee27ea70d843f313e7948f7e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a057d7fb4ee27ea70d843f313e7948f7e">&#9670;&nbsp;</a></span>epcf_timer_createNative()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="timer_8h.html#ab21ed2c6357cfab9af8e28c49dc33668">EPCFTimerDevice_t</a>* epcf_timer_createNative </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structEPCFTimerCfg__t.html">EPCFTimerCfg_t</a> *&#160;</td>
          <td class="paramname"><em>pTimerConfig</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>This function is used to create a timer. Call this function in beginning to initialize the timer. This function allocates memory for the device using malloc() function call and returns a pointer to the device. Pass this device pointer while calling timer functions. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">pTimerConfig</td><td>Pointer to the timer configuration structure.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>On success, it return the pointer to timer device. On error, it returns NULL. </dd></dl>

</div>
</div>
<a id="abcda35cdd47b96d546961a7d067ebdca"></a>
<h2 class="memtitle"><span class="permalink"><a href="#abcda35cdd47b96d546961a7d067ebdca">&#9670;&nbsp;</a></span>epcf_timer_detachCallback()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int8_t epcf_timer_detachCallback </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="timer_8h.html#ab21ed2c6357cfab9af8e28c49dc33668">EPCFTimerDevice_t</a> *&#160;</td>
          <td class="paramname"><em>pTimerDevice</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="timer_8h.html#a18e9ed18e2ec15f7a0264e167afecfa2">EnEPCFTimerInterruptSource_t</a>&#160;</td>
          <td class="paramname"><em>interruptSource</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>This function is used to detach the timer callback for the specific timer interrupt source. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">pTimerDevice</td><td>Pointer to the timer device. </td></tr>
    <tr><td class="paramname">callbackId</td><td>callbackId returned by EPCF_TIMER_ATTACH_CALLBACK function.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>return status. Refer to "../../common/status.h" header file for the appropriate status codes.</dd></dl>
<dl class="section note"><dt>Note</dt><dd>Call this function before starting the timer device. To detach the callback if timer has already started:<ol type="1">
<li>Stop the timer.</li>
<li>Reset the timer</li>
<li>Detach the callback.</li>
<li>Start the timer again. </li>
</ol>
</dd></dl>

</div>
</div>
<a id="ae25969764b4c85f1790bdffc16179a12"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae25969764b4c85f1790bdffc16179a12">&#9670;&nbsp;</a></span>epcf_timer_getCounterValue()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int8_t epcf_timer_getCounterValue </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="timer_8h.html#ab21ed2c6357cfab9af8e28c49dc33668">EPCFTimerDevice_t</a> *&#160;</td>
          <td class="paramname"><em>pTimerDevice</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint32_t *&#160;</td>
          <td class="paramname"><em>count</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>This function is used to read the current timer count in both timer and counter mode. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">pTimerDevice</td><td>Pointer to the timer device. </td></tr>
    <tr><td class="paramname">count</td><td>Pointer to the uint32_t variable to get timer count.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>return status. Refer to "../../common/status.h" header file for the appropriate status codes. </dd></dl>

</div>
</div>
<a id="a3542e21dd40fa50efc2a2ec7715fca53"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a3542e21dd40fa50efc2a2ec7715fca53">&#9670;&nbsp;</a></span>epcf_timer_getDeviceCount()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">uint8_t epcf_timer_getDeviceCount </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>This function is used to get the total number of available timer devices. </p>
<dl class="section return"><dt>Returns</dt><dd>Returns the number of available timer devices. </dd></dl>

</div>
</div>
<a id="adc374c0f2ec21d311615d90b641c40bf"></a>
<h2 class="memtitle"><span class="permalink"><a href="#adc374c0f2ec21d311615d90b641c40bf">&#9670;&nbsp;</a></span>epcf_timer_getInputCaptureTime()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int8_t epcf_timer_getInputCaptureTime </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="timer_8h.html#ab21ed2c6357cfab9af8e28c49dc33668">EPCFTimerDevice_t</a> *&#160;</td>
          <td class="paramname"><em>pTimerDevice</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="timer_8h.html#a49758bdd75c2efdc7fae554a566a3420">EnEPCFTimerChannel_t</a>&#160;</td>
          <td class="paramname"><em>channel</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">EPCFTime_t *&#160;</td>
          <td class="paramname"><em>time</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>This function is used to read the input capture time for the specified channel. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">pTimerDevice</td><td>Pointer to the timer device. </td></tr>
    <tr><td class="paramname">channel</td><td>Input Capture channel. </td></tr>
    <tr><td class="paramname">time</td><td>Pointer to the EPCFTime_t variable to get input capture time value.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>return status. Refer to "../../common/status.h" header file for the appropriate status codes. </dd></dl>

</div>
</div>
<a id="a14af049adeaef5cc3f3fde90f1fe76ce"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a14af049adeaef5cc3f3fde90f1fe76ce">&#9670;&nbsp;</a></span>epcf_timer_getState()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="timer_8h.html#a545dac1050db5d1a791dca4df3830de8">EnEPCFTimerState_t</a> epcf_timer_getState </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="timer_8h.html#ab21ed2c6357cfab9af8e28c49dc33668">EPCFTimerDevice_t</a> *&#160;</td>
          <td class="paramname"><em>pTimerDevice</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>This function is used to get the current state of the timer. Timer can be started by a call to the function EPCF_TIMER_START. Timer can be stopped by a call to the function EPCF_TIMER_STOP. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">pTimerDevice</td><td>Pointer to the timer device.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>return timer state </dd></dl>

</div>
</div>
<a id="a3b4ff74d5b2f76582ed2e586d0739cb2"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a3b4ff74d5b2f76582ed2e586d0739cb2">&#9670;&nbsp;</a></span>epcf_timer_getTime()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int8_t epcf_timer_getTime </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="timer_8h.html#ab21ed2c6357cfab9af8e28c49dc33668">EPCFTimerDevice_t</a> *&#160;</td>
          <td class="paramname"><em>pTimerDevice</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">EPCFTime_t *&#160;</td>
          <td class="paramname"><em>time</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>This function is used to read the current time value. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">pTimerDevice</td><td>Pointer to the timer device. </td></tr>
    <tr><td class="paramname">time</td><td>Pointer to EPCFTime_t variable to get time value. this function give time value in micro seconds</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>return status. Refer to "../../common/status.h" header file for the appropriate status codes. </dd></dl>

</div>
</div>
<a id="aeb2c3ce309a2389e10b4ecd8f54b2a49"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aeb2c3ce309a2389e10b4ecd8f54b2a49">&#9670;&nbsp;</a></span>epcf_timer_reset()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int8_t epcf_timer_reset </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="timer_8h.html#ab21ed2c6357cfab9af8e28c49dc33668">EPCFTimerDevice_t</a> *&#160;</td>
          <td class="paramname"><em>pTimerDevice</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>This function is used to reset the timer. The timer count will be set to the initial value. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">pTimerDevice</td><td>Pointer to the timer device.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>return status. Refer to "../../common/status.h" header file for the appropriate status codes. </dd></dl>

</div>
</div>
<a id="adfb8b27d1b568b70a8b0563b7d23aba8"></a>
<h2 class="memtitle"><span class="permalink"><a href="#adfb8b27d1b568b70a8b0563b7d23aba8">&#9670;&nbsp;</a></span>epcf_timer_setCompareTime()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int8_t epcf_timer_setCompareTime </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="timer_8h.html#ab21ed2c6357cfab9af8e28c49dc33668">EPCFTimerDevice_t</a> *&#160;</td>
          <td class="paramname"><em>pTimerDevice</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="timer_8h.html#a49758bdd75c2efdc7fae554a566a3420">EnEPCFTimerChannel_t</a>&#160;</td>
          <td class="paramname"><em>channel</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="timer_8h.html#a18c68e21ca83222d19af8f4aa976c29e">EnEPCFTimerCompareAction_t</a>&#160;</td>
          <td class="paramname"><em>compareAction</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="timer_8h.html#a05cae95f26f7014a386031b3e1fb4e91">EnEPCFTimerPinAction</a>&#160;</td>
          <td class="paramname"><em>pinAction</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">EPCFTime_t&#160;</td>
          <td class="paramname"><em>time</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>This function is used to set the compare time. Compare channel can be used to trigger an event after the specified time. A compare action and an interrupt can be associated to that event. A user callback is called if there is a callback attached for this interrupt source. The maximum value that should be passed to this function is equal to the period of the timer. Timer period = resolution x (2^timerWidth). For example: Consider an 8-bit timer with resolution = 0.25 microseconds and configured as a periodic type. If time count == 5 and unit is equal to enEPCFTimeUnit_us, then user callback will be called after every 5 microseconds. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">pTimerDevice</td><td>Pointer to the timer device. </td></tr>
    <tr><td class="paramname">channel</td><td>Compare channel. </td></tr>
    <tr><td class="paramname">compareAction</td><td>Specifies the timer action on compare match This parameter can be a value of EnEPCFTimerCompareAction_t. </td></tr>
    <tr><td class="paramname">pinAction</td><td>Specify the output pin action This parameter can be a value of EnEPCFTimerPinAction. </td></tr>
    <tr><td class="paramname">time</td><td>Compare time value for the channel</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>return status. Refer to "../../common/status.h" header file for the appropriate status codes.</dd></dl>
<dl class="section note"><dt>Note</dt><dd>Call this function before starting the timer. To set compare time for a new channel or to update the compare time:<ol type="1">
<li>Stop the timer.</li>
<li>Reset the timer</li>
<li>Detach the callback.</li>
<li>Start the timer again. </li>
</ol>
</dd></dl>

</div>
</div>
<a id="a7ab75ebabd2d855bdbe9bf1290711e78"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a7ab75ebabd2d855bdbe9bf1290711e78">&#9670;&nbsp;</a></span>epcf_timer_setCounter()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int8_t epcf_timer_setCounter </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="timer_8h.html#ab21ed2c6357cfab9af8e28c49dc33668">EPCFTimerDevice_t</a> *&#160;</td>
          <td class="paramname"><em>pTimerDevice</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="timer_8h.html#a49758bdd75c2efdc7fae554a566a3420">EnEPCFTimerChannel_t</a>&#160;</td>
          <td class="paramname"><em>channel</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="timer_8h.html#a69d9d8868241b493f34d11688821a70e">EnEPCFTimerInputPolarity_t</a>&#160;</td>
          <td class="paramname"><em>inputPolarity</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>This function is used to set input polarity of capture signal for getting counter value in counter mode. This function will return error if timer is configured in timer mode. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">pTimerDevice</td><td>Pointer to the timer device. </td></tr>
    <tr><td class="paramname">channel</td><td>Compare channel. </td></tr>
    <tr><td class="paramname">inputPolarity</td><td>Set the input pin polarity to trigger the capture.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>return status. Refer to "../../common/status.h" header file for the appropriate status codes. </dd></dl>

</div>
</div>
<a id="a363d9244d534de53dabc73523e37c3ff"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a363d9244d534de53dabc73523e37c3ff">&#9670;&nbsp;</a></span>epcf_timer_setInputCapture()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int8_t epcf_timer_setInputCapture </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="timer_8h.html#ab21ed2c6357cfab9af8e28c49dc33668">EPCFTimerDevice_t</a> *&#160;</td>
          <td class="paramname"><em>pTimerDevice</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="timer_8h.html#a49758bdd75c2efdc7fae554a566a3420">EnEPCFTimerChannel_t</a>&#160;</td>
          <td class="paramname"><em>channel</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="timer_8h.html#a69d9d8868241b493f34d11688821a70e">EnEPCFTimerInputPolarity_t</a>&#160;</td>
          <td class="paramname"><em>inputPolarity</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>This function is used to set input polarity of the input capture channel. An input capture channel can be used to get width of the input signal. It can also be used to generate an interrupt and a user callback is called if there is a callback attached for this interrupt source. For example: Consider a configuration in which timer resolution = 0.25 microseconds and input capture channel is configured to detect falling clock edge on channel0. If the signal is in high state when the timer has started and comes to a low state after 5 microseconds. Then, an interrupt will be generated after 5 microseconds. Use EPCF_TIMER_GET_INPUT_CAPTURE_TIME function to get width of the signal. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">pTimerDevice</td><td>Pointer to the timer device. </td></tr>
    <tr><td class="paramname">channel</td><td>Input Capture channel. </td></tr>
    <tr><td class="paramname">inputPolarity</td><td>Set the input pin polarity to trigger the capture</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>return status. Refer to "../../common/status.h" header file for the appropriate status codes.</dd></dl>
<dl class="section note"><dt>Note</dt><dd>Call this function before starting the timer. To set input capture time for a new channel or to update the input capture time:<ol type="1">
<li>Stop the timer.</li>
<li>Reset the timer</li>
<li>Detach the callback.</li>
<li>Start the timer again. </li>
</ol>
</dd></dl>

</div>
</div>
<a id="a6d7fbc41add267502873da2d7b3a6848"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a6d7fbc41add267502873da2d7b3a6848">&#9670;&nbsp;</a></span>epcf_timer_start()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int8_t epcf_timer_start </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="timer_8h.html#ab21ed2c6357cfab9af8e28c49dc33668">EPCFTimerDevice_t</a> *&#160;</td>
          <td class="paramname"><em>pTimerDevice</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>This function is used to start the timer. The timer starts counting and will run according to the configuration. It can be stopped by a call to the function EPCF_TIMER_STOP. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">pTimerDevice</td><td>Pointer to the timer device.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>return status. Refer to "../../common/status.h" header file for the appropriate status codes. </dd></dl>

</div>
</div>
<a id="a23c824708319387ad92228cc98e7531f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a23c824708319387ad92228cc98e7531f">&#9670;&nbsp;</a></span>epcf_timer_stop()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int8_t epcf_timer_stop </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="timer_8h.html#ab21ed2c6357cfab9af8e28c49dc33668">EPCFTimerDevice_t</a> *&#160;</td>
          <td class="paramname"><em>pTimerDevice</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>This function is used to stop the running timer. The timer counting is stopped and can be started again by a call to the function EPCF_TIMER_START. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">pTimerDevice</td><td>Pointer to the timer device.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>return status. Refer to "../../common/status.h" header file for the appropriate status codes. </dd></dl>

</div>
</div>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.15
</small></address>
</body>
</html>
